{"datasets":[{"name":"130899ee","displayName":"Total Engagemenst per Platform","query":"SELECT \n    batch.post_id,\n    batch.platform,\n    (COALESCE(CAST(streaming.total_engagements AS DOUBLE), 0) +\n     COALESCE(batch.total_engagements, 0)) AS total_engagements\nFROM workspace.default.social_media_engagement_gold AS batch\nLEFT JOIN workspace.default.social_media_engagement_streaming_gold AS streaming\nON batch.post_id = streaming.post_id;\n"},{"name":"9d20ee3b","displayName":"Posts without Streaming Events","query":"SELECT COUNT(*) AS missing_streaming_events\nFROM workspace.default.social_media_engagement_gold AS batch\nLEFT JOIN workspace.default.social_media_engagement_streaming_gold AS streaming\nON batch.post_id = streaming.post_id\nWHERE streaming.post_id IS NULL;\n"},{"name":"2d2f024f","displayName":"Where Events come from","query":"SELECT \n    batch.platform,\n    SUM(COALESCE(batch.total_engagements, 0)) AS batch_engagement,\n    SUM(COALESCE(streaming.total_engagements, 0)) AS streaming_engagement,\n    SUM(COALESCE(batch.total_engagements, 0) + COALESCE(streaming.total_engagements, 0)) AS total_engagement\nFROM workspace.default.social_media_engagement_gold AS batch\nLEFT JOIN workspace.default.social_media_engagement_streaming_gold AS streaming\nON batch.post_id = streaming.post_id\nGROUP BY batch.platform\nORDER BY total_engagement DESC;\n"},{"name":"4996dafc","displayName":"Posts with the Most Engagement","query":"SELECT \n    batch.post_id,\n    batch.platform,\n    (COALESCE(streaming.total_engagements, 0) + COALESCE(batch.total_engagements, 0)) AS total_engagement\nFROM workspace.default.social_media_engagement_gold AS batch\nLEFT JOIN workspace.default.social_media_engagement_streaming_gold AS streaming\nON batch.post_id = streaming.post_id\nORDER BY total_engagement DESC\nLIMIT 10;\n"}],"pages":[{"name":"8d270a5f","displayName":"Untitled page","layout":[{"widget":{"name":"a8fe53ec","queries":[{"name":"main_query","query":{"datasetName":"130899ee","fields":[{"name":"sum(total_engagements)","expression":"SUM(`total_engagements`)"},{"name":"platform","expression":"`platform`"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"pie","encodings":{"angle":{"fieldName":"sum(total_engagements)","scale":{"type":"quantitative"},"displayName":"Sum of total_engagements"},"color":{"fieldName":"platform","scale":{"type":"categorical"},"displayName":"platform"}}}},"position":{"x":0,"y":6,"width":3,"height":6}},{"widget":{"name":"dccc19c1","queries":[{"name":"main_query","query":{"datasetName":"9d20ee3b","fields":[{"name":"sum(missing_streaming_events)","expression":"SUM(`missing_streaming_events`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"sum(missing_streaming_events)","displayName":"Sum of missing_streaming_events"}},"frame":{"showTitle":true,"showDescription":false,"title":"Post without Streaming Reactions"}}},"position":{"x":4,"y":0,"width":2,"height":6}},{"widget":{"name":"1a2b97ec","queries":[{"name":"main_query","query":{"datasetName":"4996dafc","fields":[{"name":"post_id","expression":"`post_id`"},{"name":"platform","expression":"`platform`"},{"name":"total_engagement","expression":"`total_engagement`"}],"disaggregated":true}}],"spec":{"version":1,"widgetType":"table","encodings":{"columns":[{"fieldName":"post_id","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":100000,"title":"post_id","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"post_id"},{"fieldName":"platform","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":100001,"title":"platform","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"platform"},{"fieldName":"total_engagement","numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"float","displayAs":"number","visible":true,"order":100002,"title":"total_engagement","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"total_engagement"}]},"invisibleColumns":[],"allowHTMLByDefault":false,"itemsPerPage":25,"paginationSize":"default","condensed":true,"withRowNumber":false}},"position":{"x":0,"y":0,"width":4,"height":6}},{"widget":{"name":"d13fa8be","queries":[{"name":"main_query","query":{"datasetName":"2d2f024f","fields":[{"name":"platform","expression":"`platform`"},{"name":"sum(streaming_engagement)","expression":"SUM(`streaming_engagement`)"},{"name":"sum(batch_engagement)","expression":"SUM(`batch_engagement`)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"fieldName":"platform","scale":{"type":"categorical","sort":{"by":"y-reversed"}},"displayName":"platform"},"y":{"scale":{"type":"quantitative"},"fields":[{"fieldName":"sum(streaming_engagement)","displayName":"Sum of streaming_engagement"},{"fieldName":"sum(batch_engagement)","displayName":"Sum of batch_engagement"}]}},"frame":{"title":"Engagement per Platform","showTitle":true}}},"position":{"x":3,"y":6,"width":3,"height":6}}]}]}